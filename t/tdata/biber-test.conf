<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="../../data/schemata/config.rnc" type="compact"?>
<config>
  <sortlocale>testlocale</sortlocale>
  <mincrossrefs>5</mincrossrefs>
  <collate_options>
    <option name="level" value="3"/>
    <option name="table" value="/home/user/data/otherkeys.txt"/>
  </collate_options>
  <nosort>
    <!-- strip prefices like 'al-' when sorting author -->
    <option name="author" value="\A\p{L}{2}\p{Pd}"/>
    <!-- strip diacritics when sorting author/translator -->
    <option name="author" value="[\x{2bf}\x{2018}]"/>
    <option name="translator" value="[\x{2bf}\x{2018}]"/>
  </nosort>
  <sourcemap>
    <maps datatype="bibtex" map_overwrite="1">
      <map maptype="entrytype">
        <!-- Doesn't exist, just testing source restrictions -->
        <per_datasource>doesnotexist.bib</per_datasource>
        <map_pair map_source="*" map_target ="CUSTOMB"/>
      </map>
      <!-- Testing map_overwrite override in map -->
      <map maptype="entrytype" map_overwrite="0">
        <per_datasource>examples.bib</per_datasource>
        <!-- Doesn't exist, just testing multi for this option -->
        <per_datasource>doesnotexist.bib</per_datasource>
        <map_pair map_source="ARTICLE"/>
        <map_pair map_source="UNPUBLISHED"/>
        <also_set map_field="KEYWORDS" map_value="keyw1, keyw2"/>
        <also_set map_field="TITLE" map_value="Blah"/>
      </map>
      <map maptype="entrytype">
        <map_pair map_source="CONVERSATION" map_target="CUSTOMA"/>
        <also_set map_field="VERBA" map_origentrytype="1"/>
        <also_set map_field="VERBB" map_value="somevalue"/>
        <also_set map_field="VERBC" map_value="somevalue"/>
      </map>
      <map maptype="entrytype">
        <map_pair map_source="CHAT" map_target="CUSTOMB"/>
      </map>
      <map maptype="field">
        <per_datasource>examples.bib</per_datasource>
        <per_type>MISC</per_type>
        <map_pair map_source="USERB" map_null="1"/>
        <also_set map_field="USERE" map_value="a string"/>
        <also_set map_field="USERF" map_null="1"/>
      </map>
      <map maptype="field">
        <per_datasource>examples.bib</per_datasource>
        <map_pair map_source="ABSTRACT" map_null="1"/>
        <map_pair map_source="CONDUCTOR" map_target="NAMEA"/>
        <map_pair map_source="GPS" map_target="USERA"/>
        <map_pair map_source="PARTICIPANT" map_target="NAMEA"/>
        <map_pair map_source="USERB" map_target="USERD"/>
      </map>
      <map maptype="field">
        <map_pair map_source="PUBMEDID" map_target="EPRINT"/>
        <also_set map_field="EPRINTTYPE" map_origfield="1"/>
        <also_set map_field="USERD" map_value="Some string of things"/>
      </map>
      <map maptype="field">
        <per_datasource>examples.bib</per_datasource>
        <map_pair map_source="LISTB" map_match="\A(\S{2})" map_replace="REP$1CED"/>
      </map>
      <map maptype="field">
        <per_datasource>examples.bib</per_datasource>
        <map_pair map_source="LISTB" map_match="CED" map_replace="ced"/>
      </map>
      <map maptype="field">
        <per_type>REPORT</per_type>
        <map_pair map_source="LISTA" map_null="1"/>
      </map>
      <map maptype="field">
        <per_type>UNPUBLISHED</per_type>
        <map_pair map_source="LISTC" map_target="INSTITUTION" map_match="\A(\S{2})" map_replace="REP$1CED"/>
      </map>
      <map maptype="field">
        <per_type>ONLINE</per_type>
        <map_pair map_source="TITLE" map_null="1"/>
      </map>
    </maps>
    <maps datatype="endnotexml" map_overwrite="1">
      <map maptype="entrytype">
        <per_datasource>endnote.xml</per_datasource>
        <map_pair map_source="journal Article" map_target="REPORT"/>
        <also_set map_field="USERA" map_origentrytype="1"/>
      </map>
      <map maptype="field">
        <per_datasource>endnote.xml</per_datasource>
        <per_type>Journal Article</per_type>
        <map_pair map_source="PAGES" map_match="64" map_replace="66"/>
      </map>
      <map maptype="field">
        <per_datasource>endnote.xml</per_datasource>
        <map_pair map_source="ABSTRACT" map_null="1"/>
      </map>
    </maps>
    <maps datatype="ris" map_overwrite="0">
      <map maptype="entrytype">
        <per_datasource>ris1.ris</per_datasource>
        <map_pair map_source="JOUR" map_target="REPORT"/>
      </map>
      <!-- Testing map_overwrite override in map -->
      <map maptype="entrytype" map_overwrite="1">
        <map_pair map_source="BOOK" map_target="MAPBOOK"/>
        <also_set map_field="KEYWORDS" map_value="somevalue"/>
      </map>
      <map maptype="field">
        <per_datasource>ris1.ris</per_datasource>
        <map_pair map_source="N2" map_null="1"/>
      </map>
      <map maptype="field">
        <per_datasource>ris1.ris</per_datasource>
        <per_type>JOUR</per_type>
        <map_pair map_source="JO" map_match="Neurosurg\." map_replace="Neurosurgery"/>
      </map>
    </maps>
    <maps datatype="zoterordfxml" map_overwrite="1">
      <map maptype="field">
        <per_type>journalArticle</per_type>
        <map_pair map_source="dc:title" map_match="(.+)" map_replace="\L$1"/>
      </map>
      <map maptype="field">
        <per_datasource>zotero.rdf</per_datasource>
        <per_type>journalArticle</per_type>
        <per_type>book</per_type>
        <per_type>bookSection</per_type>
        <map_pair map_source="dc:subject" map_null="1"/>
      </map>
    </maps>
  </sourcemap>
</config>

