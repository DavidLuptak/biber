<?xml version="1.0" encoding="UTF-8"?>
<grammar ns="http://biblatex-biber.sourceforge.net/biblatexml" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:bib="http://biblatex-biber.sourceforge.net/biblatexml" xmlns:user="http://localhost/biblatexml/user" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <start>
    <a:documentation>TODO?  change namespace of bib:emphasis, bib:superscript, bib:subscript
       to db = "http://docbook.org/ns/docbook"</a:documentation>
    <ref name="entries"/>
  </start>
  <define name="entries">
    <element name="entries">
      <zeroOrMore>
        <ref name="BibLaTeXML.entries"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="BibLaTeXML.entries">
    <choice>
      <ref name="BibLaTeXML.standard.entries"/>
      <ref name="BibLaTeXML.additional.entries"/>
    </choice>
  </define>
  <define name="BibLaTeXML.standard.entries">
    <choice>
      <ref name="article"/>
      <ref name="book"/>
      <ref name="booklet"/>
      <ref name="collection"/>
      <ref name="inbook"/>
      <ref name="incollection"/>
      <ref name="proceedings"/>
      <ref name="inproceedings"/>
      <ref name="manual"/>
      <ref name="misc"/>
      <ref name="online"/>
      <ref name="patent"/>
      <ref name="periodical"/>
      <ref name="proceedings"/>
      <ref name="report"/>
      <ref name="thesis"/>
      <ref name="unpublished"/>
      <ref name="set"/>
    </choice>
  </define>
  <define name="BibLaTeXML.additional.entries">
    <choice>
      <ref name="review"/>
      <ref name="review.electronic"/>
      <ref name="article.electronic"/>
      <ref name="periodical.electronic"/>
      <ref name="preprint"/>
      <ref name="software"/>
      <ref name="movie"/>
    </choice>
  </define>
  <define name="BibLaTeXML.common.fields">
    <a:documentation>TODO Unsupported types:
  artwork, audio, image, jurisdiction, legislation, legal, movie, music,
  performance, reference, inreference, review, software, standard, video
  TODO: add manuscript and archivalrecord ??</a:documentation>
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="nameaddon"/>
      </optional>
      <optional>
        <ref name="shortauthor"/>
      </optional>
      <optional>
        <ref name="shorthand"/>
      </optional>
      <optional>
        <ref name="shorthandintro"/>
      </optional>
      <optional>
        <ref name="shorttitle"/>
      </optional>
      <optional>
        <ref name="origtitle"/>
      </optional>
      <optional>
        <ref name="language"/>
      </optional>
      <optional>
        <ref name="origlanguage"/>
      </optional>
      <optional>
        <ref name="script"/>
      </optional>
      <optional>
        <ref name="origscript"/>
      </optional>
      <optional>
        <ref name="abstract"/>
      </optional>
      <optional>
        <ref name="annotation"/>
      </optional>
      <optional>
        <choice>
          <ref name="file"/>
          <ref name="pdf"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="private"/>
      </zeroOrMore>
      <optional>
        <ref name="entrysubtype"/>
      </optional>
      <optional>
        <ref name="execute"/>
      </optional>
      <optional>
        <ref name="hyphenation"/>
      </optional>
      <optional>
        <ref name="indexsorttitle"/>
      </optional>
      <optional>
        <ref name="indextitle"/>
      </optional>
      <optional>
        <ref name="keywords"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="options"/>
      </optional>
      <optional>
        <ref name="presort"/>
      </optional>
      <optional>
        <choice>
          <ref name="sortkey"/>
          <ref name="key"/>
        </choice>
      </optional>
      <optional>
        <ref name="sortname"/>
      </optional>
      <optional>
        <ref name="sorttitle"/>
      </optional>
      <optional>
        <ref name="sortyear"/>
      </optional>
      <optional>
        <ref name="inset"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.additional.fields">
    <interleave>
      <zeroOrMore>
        <ref name="reprintinfo"/>
      </zeroOrMore>
      <optional>
        <ref name="reviews"/>
      </optional>
      <optional>
        <ref name="topics"/>
      </optional>
      <optional>
        <ref name="remarks"/>
      </optional>
      <optional>
        <ref name="relatedentries"/>
      </optional>
    </interleave>
  </define>
  <define name="formattext">
    <a:documentation>
We now define the biblatexml elements</a:documentation>
    <zeroOrMore>
      <optional>
        <ref name="emphasis"/>
      </optional>
      <optional>
        <ref name="superscript"/>
      </optional>
      <optional>
        <ref name="subscript"/>
      </optional>
      <optional>
        <ref name="quote"/>
      </optional>
      <optional>
        <ref name="math"/>
      </optional>
      <optional>
        <text/>
      </optional>
    </zeroOrMore>
  </define>
  <define name="formattextB">
    <zeroOrMore>
      <optional>
        <ref name="nosort"/>
      </optional>
      <optional>
        <ref name="emphasis"/>
      </optional>
      <optional>
        <ref name="superscript"/>
      </optional>
      <optional>
        <ref name="subscript"/>
      </optional>
      <optional>
        <ref name="quote"/>
      </optional>
      <optional>
        <ref name="math"/>
      </optional>
      <optional>
        <text/>
      </optional>
    </zeroOrMore>
  </define>
  <define name="emphasis">
    <element name="emphasis">
      <text/>
    </element>
  </define>
  <define name="superscript">
    <element name="superscript">
      <text/>
    </element>
  </define>
  <define name="subscript">
    <element name="subscript">
      <text/>
    </element>
  </define>
  <define name="quote">
    <element name="quote">
      <text/>
    </element>
  </define>
  <define name="math">
    <a:documentation>The textual content of bib:math should be in (La)TeX notation
MathML mathml:* insertions would also be possible with http://xsltml.sourceforge.net/
the optional attribute "text" gives a Unicode representation of the mathematical expression (if feasible), e.g., xÂ³+yÂ³=zÂ³</a:documentation>
    <element name="math">
      <optional>
        <attribute name="text"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="nosort">
    <a:documentation>this is to markup elements of a name or title that should not be taken into account for sorting</a:documentation>
    <element name="nosort">
      <ref name="formattext"/>
    </element>
  </define>
  <define name="romanized">
    <attribute name="mode">
      <value>romanized</value>
    </attribute>
    <optional>
      <attribute name="convention"/>
    </optional>
    <optional>
      <ref name="att.lang"/>
    </optional>
  </define>
  <define name="translated">
    <attribute name="mode">
      <value>translated</value>
    </attribute>
    <optional>
      <ref name="att.lang"/>
    </optional>
  </define>
  <define name="uniform">
    <attribute name="mode">
      <value>uniform</value>
    </attribute>
    <optional>
      <ref name="att.lang"/>
    </optional>
  </define>
  <define name="att.lang">
    <attribute name="xml:lang">
      <data type="language"/>
    </attribute>
  </define>
  <define name="abstract">
    <element name="abstract">
      <optional>
        <ref name="att.lang"/>
      </optional>
      <ref name="formattext"/>
    </element>
  </define>
  <define name="addendum">
    <element name="addendum">
      <optional>
        <ref name="att.lang"/>
      </optional>
      <ref name="formattext"/>
    </element>
  </define>
  <define name="annotation">
    <element name="annotation">
      <optional>
        <ref name="att.lang"/>
      </optional>
      <ref name="formattext"/>
    </element>
  </define>
  <define name="booksubtitle">
    <choice>
      <group>
        <element name="booksubtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="booksubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="booksubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="booksubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="booksubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="booksubtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="booktitle">
    <choice>
      <group>
        <element name="booktitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="booktitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="booktitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="booktitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="booktitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="booktitle">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="booktitleaddon">
    <choice>
      <group>
        <element name="booktitleaddon">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="booktitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="booktitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="booktitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="booktitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="booktitleaddon">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="chapter">
    <element name="chapter">
      <text/>
    </element>
  </define>
  <define name="doi">
    <element name="doi">
      <text/>
    </element>
  </define>
  <define name="eid">
    <element name="eid">
      <text/>
    </element>
  </define>
  <define name="eprint">
    <element name="eprint">
      <attribute name="type"/>
      <text/>
    </element>
  </define>
  <define name="eventtitle">
    <choice>
      <group>
        <element name="eventtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="eventtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="eventtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="eventtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="eventtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="eventtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="file">
    <element name="file">
      <text/>
    </element>
  </define>
  <define name="pdf">
    <element name="pdf">
      <text/>
    </element>
  </define>
  <define name="id">
    <element name="id">
      <text/>
    </element>
  </define>
  <define name="isan">
    <element name="isan">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="isbn">
    <element name="isbn">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="oclc">
    <element name="oclc">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="lccn">
    <element name="lccn">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="ismn">
    <element name="ismn">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="isrn">
    <element name="isrn">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="issn">
    <element name="issn">
      <text/>
    </element>
  </define>
  <!-- TODO validate with pattern -->
  <define name="issue">
    <choice>
      <group>
        <element name="issue">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="issue">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="issue">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="issue">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="issue">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="issue">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="issuetitle">
    <choice>
      <group>
        <element name="issuetitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="issuetitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="issuetitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="issuetitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="issuetitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="issuetitle">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="issuetitleaddon">
    <choice>
      <group>
        <element name="issuetitleaddon">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="issuetitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="issuetitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="issuetitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="issuetitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="issuetitleaddon">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="issuesubtitle">
    <choice>
      <group>
        <element name="issuesubtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="issuesubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="issuesubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="issuesubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="issuesubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="issuesubtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="iswc">
    <element name="iswc">
      <text/>
    </element>
  </define>
  <define name="journal">
    <choice>
      <element name="journal">
        <attribute name="id"/>
      </element>
      <group>
        <element name="journal">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="journal">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="journal">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="journal">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="journal">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="journal">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="journaltitle">
    <choice>
      <group>
        <element name="journaltitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="journaltitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="journaltitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="journaltitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="journaltitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="journaltitle">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="journalsubtitle">
    <choice>
      <group>
        <element name="journalsubtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="journalsubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="journalsubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="journalsubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="journalsubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="journalsubtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="label">
    <element name="label">
      <text/>
    </element>
  </define>
  <define name="private">
    <a:documentation>this element contains data relative to individual users of the database</a:documentation>
    <element name="private">
      <interleave>
        <attribute name="user"/>
        <optional>
          <ref name="library"/>
        </optional>
        <optional>
          <ref name="remarks"/>
        </optional>
        <optional>
          <ref name="topics"/>
        </optional>
        <zeroOrMore>
          <ref name="user.field"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="user.field">
    <element>
      <nsName ns="http://localhost/biblatexml/user"/>
      <text/>
    </element>
  </define>
  <define name="library">
    <element name="library">
      <oneOrMore>
        <ref name="libraryitem"/>
      </oneOrMore>
    </element>
  </define>
  <define name="libraryitem">
    <element name="item">
      <optional>
        <attribute name="location"/>
      </optional>
      <optional>
        <attribute name="ref"/>
      </optional>
      <optional>
        <attribute name="url">
          <data type="anyURI"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="note"/>
      </optional>
    </element>
  </define>
  <define name="mainsubtitle">
    <choice>
      <group>
        <element name="mainsubtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="mainsubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="mainsubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="mainsubtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="mainsubtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="mainsubtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="maintitle">
    <choice>
      <group>
        <element name="maintitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="maintitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="maintitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="maintitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="maintitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="maintitle">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="maintitleaddon">
    <choice>
      <group>
        <element name="maintitleaddon">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="maintitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="maintitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="maintitleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="maintitleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="maintitleaddon">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="nameaddon">
    <choice>
      <group>
        <element name="nameaddon">
          <text/>
        </element>
        <zeroOrMore>
          <element name="nameaddon">
            <ref name="romanized"/>
            <text/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="nameaddon">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="nameaddon">
            <ref name="romanized"/>
            <text/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="nameaddon">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="nameaddon">
          <ref name="translated"/>
          <text/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="note">
    <element name="note">
      <optional>
        <ref name="att.lang"/>
      </optional>
      <ref name="formattext"/>
    </element>
  </define>
  <define name="number">
    <element name="number">
      <text/>
    </element>
  </define>
  <define name="origtitle">
    <element name="origtitle">
      <ref name="formattext"/>
      <optional>
        <element name="romanized">
          <text/>
        </element>
      </optional>
    </element>
  </define>
  <define name="pagetotal">
    <element name="pagetotal">
      <text/>
    </element>
  </define>
  <define name="part">
    <element name="part">
      <text/>
    </element>
  </define>
  <define name="reprinttitle">
    <choice>
      <group>
        <element name="reprinttitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="reprinttitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="reprinttitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="reprinttitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="reprinttitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="reprinttitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="series">
    <choice>
      <element name="series">
        <attribute name="id"/>
      </element>
      <group>
        <element name="series">
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="series">
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="series">
            <ref name="translated"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="series">
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="series">
            <ref name="translated"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="series">
          <ref name="translated"/>
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="shorthand">
    <choice>
      <group>
        <element name="shorthand">
          <text/>
        </element>
        <zeroOrMore>
          <element name="shorthand">
            <ref name="romanized"/>
            <text/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="shorthand">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="shorthand">
            <ref name="romanized"/>
            <text/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="shorthand">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="shorthand">
          <ref name="translated"/>
          <text/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="shorthandintro">
    <choice>
      <group>
        <element name="shorthandintro">
          <text/>
        </element>
        <zeroOrMore>
          <element name="shorthandintro">
            <ref name="romanized"/>
            <text/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="shorthandintro">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="shorthandintro">
            <ref name="romanized"/>
            <text/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="shorthandintro">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="shorthandintro">
          <ref name="translated"/>
          <text/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="shorttitle">
    <choice>
      <group>
        <element name="shorttitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="shorttitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="shorttitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="shorttitle">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="shorttitle">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="shorttitle">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="subtitle">
    <choice>
      <group>
        <element name="subtitle">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="subtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="subtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="subtitle">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="subtitle">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="subtitle">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="title">
    <choice>
      <group>
        <element name="title">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattextB"/>
        </element>
        <zeroOrMore>
          <element name="title">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="title">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="title">
            <ref name="romanized"/>
            <ref name="formattextB"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="title">
            <ref name="translated"/>
            <ref name="formattextB"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="title">
          <ref name="translated"/>
          <ref name="formattextB"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="titleaddon">
    <choice>
      <group>
        <element name="titleaddon">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="titleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="titleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="titleaddon">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="titleaddon">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="titleaddon">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="url">
    <element name="url">
      <data type="anyURI"/>
    </element>
  </define>
  <define name="venue">
    <choice>
      <group>
        <element name="venue">
          <optional>
            <ref name="att.lang"/>
          </optional>
          <ref name="formattext"/>
        </element>
        <zeroOrMore>
          <element name="venue">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="venue">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="venue">
            <ref name="romanized"/>
            <ref name="formattext"/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="venue">
            <ref name="translated"/>
            <ref name="formattext"/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="venue">
          <ref name="translated"/>
          <ref name="formattext"/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="version">
    <element name="version">
      <text/>
    </element>
  </define>
  <define name="volume">
    <element name="volume">
      <choice>
        <text/>
        <ref name="volume.range"/>
      </choice>
    </element>
  </define>
  <define name="volume.range">
    <choice>
      <ref name="volume.list"/>
      <ref name="range"/>
    </choice>
  </define>
  <define name="volume.list">
    <element name="list">
      <oneOrMore>
        <element name="item">
          <choice>
            <text/>
            <ref name="volume.range"/>
          </choice>
        </element>
      </oneOrMore>
    </element>
  </define>
  <define name="volumes">
    <element name="volumes">
      <text/>
    </element>
  </define>
  <define name="usera">
    <element name="usera">
      <text/>
    </element>
  </define>
  <define name="userb">
    <element name="userb">
      <text/>
    </element>
  </define>
  <define name="userc">
    <element name="userc">
      <text/>
    </element>
  </define>
  <define name="userd">
    <element name="userd">
      <text/>
    </element>
  </define>
  <define name="usere">
    <element name="usere">
      <text/>
    </element>
  </define>
  <define name="userf">
    <element name="userf">
      <text/>
    </element>
  </define>
  <define name="entryset">
    <a:documentation>special fields</a:documentation>
    <element name="entryset">
      <choice>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
        <text/>
      </choice>
    </element>
  </define>
  <define name="inset">
    <element name="entryset">
      <text/>
    </element>
  </define>
  <define name="crossref">
    <a:documentation>Can it refer to more than one set???</a:documentation>
    <element name="crossref">
      <text/>
    </element>
  </define>
  <define name="entrysubtype">
    <element name="entrysubtype">
      <text/>
    </element>
  </define>
  <define name="execute">
    <element name="execute">
      <text/>
    </element>
  </define>
  <define name="hyphenation">
    <element name="hyphenation">
      <text/>
    </element>
  </define>
  <define name="indexsorttitle">
    <element name="indexsorttitle">
      <text/>
    </element>
  </define>
  <define name="indextitle">
    <element name="indextitle">
      <text/>
    </element>
  </define>
  <define name="options">
    <element name="options">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="option"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="option">
    <element name="option">
      <ref name="option.key"/>
      <ref name="option.value"/>
    </element>
  </define>
  <define name="option.key">
    <element name="key">
      <text/>
    </element>
  </define>
  <define name="option.value">
    <element name="value">
      <text/>
    </element>
  </define>
  <define name="presort">
    <element name="presort">
      <text/>
    </element>
  </define>
  <define name="sortkey">
    <element name="sortkey">
      <text/>
    </element>
  </define>
  <define name="key">
    <element name="key">
      <text/>
    </element>
  </define>
  <define name="sorttitle">
    <choice>
      <group>
        <element name="sorttitle">
          <text/>
        </element>
        <zeroOrMore>
          <element name="sorttitle">
            <ref name="romanized"/>
            <text/>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="sorttitle">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="sorttitle">
            <ref name="romanized"/>
            <text/>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="sorttitle">
            <ref name="translated"/>
            <text/>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="sorttitle">
          <ref name="translated"/>
          <text/>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="sortyear">
    <element name="sortyear">
      <text/>
    </element>
  </define>
  <define name="useprefix">
    <element name="useprefix">
      <text/>
    </element>
  </define>
  <define name="xref">
    <element name="xref">
      <text/>
    </element>
  </define>
  <define name="edition">
    <a:documentation>INTEGER FIELDS</a:documentation>
    <element name="edition">
      <choice>
        <data type="integer"/>
        <attribute name="string"/>
      </choice>
    </element>
  </define>
  <define name="attlist.year">
    <a:documentation>DATE FIELDS</a:documentation>
    <!--
      month = element month { xsd:gMonth }
      year = ( year.simple | year.converted )
      year.simple = element year { attlist.year?, ( xsd:gYear | year.range ) }
    -->
    <a:documentation>when a publication records a date in a different calendar than the Gregorian:</a:documentation>
    <!--
      year.converted = element year {
             attribute type { "converted" },
             element value { ( xsd:gYear | year.range ) },
             localyear }
    -->
    <a:documentation>"approximate" when exact date is uncertain,
"assumed" when it is known but not stated on the document</a:documentation>
    <optional>
      <attribute name="appeared">
        <ref name="date.type"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="type">
        <choice>
          <value>approximate</value>
          <value>assumed</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="note"/>
    </optional>
  </define>
  <define name="attlist.dates">
    <attribute name="datetype">
      <choice>
        <value>orig</value>
        <value>event</value>
        <value>url</value>
      </choice>
    </attribute>
  </define>
  <!--
    year.range = (year.range.list | ( year.range.start, year.range.end) )
    year.range.start = element start { xsd:gYear }
    year.range.end = element end { xsd:gYear }
    year.range.list = element list { element item { xsd:gYear }+ }
  -->
  <define name="date">
    <a:documentation>now same thing for date formats</a:documentation>
    <choice>
      <ref name="pubstate"/>
      <oneOrMore>
        <ref name="date.simple"/>
      </oneOrMore>
      <ref name="date.converted"/>
    </choice>
  </define>
  <define name="date.simple">
    <element name="date">
      <optional>
        <ref name="attlist.dates"/>
      </optional>
      <optional>
        <ref name="attlist.year"/>
      </optional>
      <choice>
        <ref name="date.type"/>
        <ref name="date.range"/>
      </choice>
    </element>
  </define>
  <define name="date.converted">
    <element name="date">
      <attribute name="type">
        <value>converted</value>
      </attribute>
      <element name="value">
        <choice>
          <ref name="date.type"/>
          <ref name="date.range"/>
        </choice>
      </element>
      <ref name="localdate"/>
    </element>
  </define>
  <define name="pubstate">
    <element name="pubstate">
      <text/>
    </element>
  </define>
  <define name="date.type">
    <choice>
      <data type="date"/>
      <data type="gYearMonth"/>
      <data type="gYear"/>
    </choice>
  </define>
  <define name="localyear">
    <element name="localvalue">
      <ref name="attlist.localdate"/>
      <data type="gYear"/>
    </element>
  </define>
  <define name="localdate">
    <a:documentation>we cannot use the xsd: datatypes for localdate since they serve for Gregorian dates only</a:documentation>
    <element name="localvalue">
      <ref name="attlist.localdate"/>
      <choice>
        <text/>
        <ref name="range"/>
      </choice>
    </element>
  </define>
  <define name="attlist.localdate">
    <attribute name="calendar">
      <choice>
        <value>julian</value>
        <value>hebrew</value>
        <value>islamic</value>
        <value>hijrishamsi</value>
        <value>revolutionary</value>
        <value>japanese</value>
        <value>bahai</value>
        <value>chinese</value>
        <value>tibetan</value>
        <value>indian</value>
      </choice>
    </attribute>
    <optional>
      <attribute name="note"/>
    </optional>
  </define>
  <define name="date.range">
    <choice>
      <ref name="date.range.list"/>
      <group>
        <ref name="date.range.start"/>
        <optional>
          <ref name="date.range.end"/>
        </optional>
      </group>
    </choice>
  </define>
  <define name="date.range.start">
    <element name="start">
      <choice>
        <data type="date"/>
        <data type="gYear"/>
      </choice>
    </element>
  </define>
  <define name="date.range.end">
    <element name="end">
      <choice>
        <data type="date"/>
        <data type="gYear"/>
        <value/>
      </choice>
    </element>
  </define>
  <define name="date.range.list">
    <element name="list">
      <oneOrMore>
        <element name="item">
          <choice>
            <ref name="date.type"/>
            <ref name="date.range"/>
          </choice>
        </element>
      </oneOrMore>
    </element>
  </define>
  <define name="pages">
    <a:documentation>PAGES</a:documentation>
    <element name="pages">
      <optional>
        <ref name="attlist.pages"/>
      </optional>
      <choice>
        <text/>
        <ref name="range"/>
        <ref name="pagelist"/>
      </choice>
    </element>
  </define>
  <define name="pagelist">
    <element name="list">
      <choice>
        <text/>
        <oneOrMore>
          <element name="item">
            <choice>
              <text/>
              <ref name="range"/>
            </choice>
          </element>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="attlist.pages">
    <optional>
      <attribute name="pagination">
        <choice>
          <value>page</value>
          <value>column</value>
          <value>line</value>
          <value>verse</value>
          <value>paragraph</value>
          <value>none</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="bookpagination">
        <choice>
          <value>page</value>
          <value>column</value>
          <value>line</value>
          <value>verse</value>
          <value>paragraph</value>
          <value>none</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="part"/>
    </optional>
  </define>
  <define name="range">
    <a:documentation>e.g. when a book has parts in different scripts, with respective paginations</a:documentation>
    <ref name="range.start"/>
    <ref name="range.end"/>
  </define>
  <define name="range.start">
    <element name="start">
      <text/>
    </element>
  </define>
  <define name="range.end">
    <element name="end">
      <text/>
    </element>
  </define>
  <define name="attlist.lists">
    <a:documentation>LITERAL LISTS</a:documentation>
    <attribute name="andothers">
      <value>true</value>
    </attribute>
  </define>
  <define name="institution">
    <choice>
      <element name="institution">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="institution">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="institution">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="institution">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="institution">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="institution">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="institution">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="translated"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="school">
    <choice>
      <element name="school">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="school">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="school">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="school">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="school">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="school">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="school">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="translated"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="organization">
    <choice>
      <element name="organization">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="organization">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="organization">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="organization">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="organization">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="organization">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="organization">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="translated"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="location">
    <choice>
      <element name="location">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="location">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <optional>
            <ref name="att.lang"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="location">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="location">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="location">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="location">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="location">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="origlocation">
    <choice>
      <element name="origlocation">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="origlocation">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="origlocation">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="origlocation">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="origlocation">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="origlocation">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="origlocation">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="pubitem"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="publisher">
    <choice>
      <element name="publisher">
        <attribute name="id">
          <ref name="formattext"/>
        </attribute>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="publisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <choice>
              <ref name="uniform"/>
              <ref name="translated"/>
            </choice>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <choice>
              <ref name="uniform"/>
              <ref name="translated"/>
            </choice>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="publisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <ref name="uniform"/>
            <ref name="translated"/>
          </choice>
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="origpublisher">
    <choice>
      <element name="origpublisher">
        <attribute name="id">
          <ref name="formattext"/>
        </attribute>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="origpublisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <choice>
              <ref name="uniform"/>
              <ref name="translated"/>
            </choice>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <choice>
              <ref name="uniform"/>
              <ref name="translated"/>
            </choice>
            <choice>
              <ref name="formattext"/>
              <oneOrMore>
                <ref name="item"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="origpublisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <ref name="uniform"/>
            <ref name="translated"/>
          </choice>
          <choice>
            <ref name="formattext"/>
            <oneOrMore>
              <ref name="item"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="publisherinfo">
    <choice>
      <element name="publisher">
        <attribute name="id">
          <ref name="formattext"/>
        </attribute>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="publisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <group>
              <ref name="publishername"/>
              <ref name="publocation"/>
            </group>
            <oneOrMore>
              <ref name="pubitem"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="publisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="publisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="translated"/>
          <choice>
            <group>
              <ref name="publishername"/>
              <ref name="publocation"/>
            </group>
            <oneOrMore>
              <ref name="pubitem"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="origpublisherinfo">
    <choice>
      <element name="origpublisher">
        <attribute name="id"/>
        <optional>
          <ref name="attlist.lists"/>
        </optional>
      </element>
      <group>
        <element name="origpublisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <group>
              <ref name="publishername"/>
              <ref name="publocation"/>
            </group>
            <oneOrMore>
              <ref name="pubitem"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="origpublisher">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="translated"/>
            <choice>
              <group>
                <ref name="publishername"/>
                <ref name="publocation"/>
              </group>
              <oneOrMore>
                <ref name="pubitem"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="origpublisher">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="translated"/>
          <choice>
            <group>
              <ref name="publishername"/>
              <ref name="publocation"/>
            </group>
            <oneOrMore>
              <ref name="pubitem"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="lista">
    <element name="listA">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="listb">
    <element name="listB">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="listc">
    <element name="listC">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="listd">
    <element name="listD">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="liste">
    <element name="listE">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="listf">
    <element name="listF">
      <optional>
        <ref name="attlist.lists"/>
      </optional>
      <choice>
        <text/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="item">
    <element name="item">
      <ref name="formattext"/>
    </element>
  </define>
  <define name="pubitem">
    <element name="item">
      <ref name="publishername"/>
      <ref name="location"/>
    </element>
  </define>
  <define name="publishername">
    <element name="name">
      <optional>
        <attribute name="id"/>
      </optional>
      <ref name="formattext"/>
    </element>
  </define>
  <define name="publocation">
    <element name="location">
      <optional>
        <attribute name="id"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="publisherinfos">
    <interleave>
      <optional>
        <choice>
          <ref name="publisherinfo"/>
          <interleave>
            <optional>
              <ref name="location"/>
            </optional>
            <optional>
              <ref name="publisher"/>
            </optional>
          </interleave>
        </choice>
      </optional>
      <optional>
        <choice>
          <ref name="origpublisherinfo"/>
          <interleave>
            <optional>
              <ref name="origlocation"/>
            </optional>
            <optional>
              <ref name="origpublisher"/>
            </optional>
          </interleave>
        </choice>
      </optional>
    </interleave>
  </define>
  <!--
    KEY LISTS
    TODO ? add attribute type = babel, xml, ISO-XXX etc
  -->
  <define name="language">
    <element name="language">
      <choice>
        <data type="language"/>
        <oneOrMore>
          <ref name="itemlang"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="origlanguage">
    <element name="origlanguage">
      <choice>
        <data type="language"/>
        <oneOrMore>
          <ref name="itemlang"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="itemlang">
    <element name="item">
      <data type="language"/>
    </element>
  </define>
  <define name="script.list">
    <choice>
      <value>Arab</value>
      <value>Armi</value>
      <value>Armn</value>
      <value>Avst</value>
      <value>Bali</value>
      <value>Batk</value>
      <value>Beng</value>
      <value>Blis</value>
      <value>Bopo</value>
      <value>Brah</value>
      <value>Brai</value>
      <value>Bugi</value>
      <value>Buhd</value>
      <value>Cakm</value>
      <value>Cans</value>
      <value>Cari</value>
      <value>Cham</value>
      <value>Cher</value>
      <value>Cirt</value>
      <value>Copt</value>
      <value>Cprt</value>
      <value>Cyrl</value>
      <value>Cyrs</value>
      <value>Deva</value>
      <value>Dsrt</value>
      <value>Egyd</value>
      <value>Egyh</value>
      <value>Egyp</value>
      <value>Ethi</value>
      <value>Geok</value>
      <value>Geor</value>
      <value>Glag</value>
      <value>Goth</value>
      <value>Grek</value>
      <value>Gujr</value>
      <value>Guru</value>
      <value>Hang</value>
      <value>Hani</value>
      <value>Hano</value>
      <value>Hans</value>
      <value>Hant</value>
      <value>Hebr</value>
      <value>Hira</value>
      <value>Hmng</value>
      <value>Hrkt</value>
      <value>Hung</value>
      <value>Inds</value>
      <value>Ital</value>
      <value>Java</value>
      <value>Jpan</value>
      <value>Kali</value>
      <value>Kana</value>
      <value>Khar</value>
      <value>Khmr</value>
      <value>Knda</value>
      <value>Kore</value>
      <value>Kthi</value>
      <value>Lana</value>
      <value>Laoo</value>
      <value>Latf</value>
      <value>Latg</value>
      <value>Latn</value>
      <value>Lepc</value>
      <value>Limb</value>
      <value>Lina</value>
      <value>Linb</value>
      <value>Lisu</value>
      <value>Lyci</value>
      <value>Lydi</value>
      <value>Mand</value>
      <value>Mani</value>
      <value>Maya</value>
      <value>Mero</value>
      <value>Mlym</value>
      <value>Mong</value>
      <value>Moon</value>
      <value>Mtei</value>
      <value>Mymr</value>
      <value>Nkgb</value>
      <value>Nkoo</value>
      <value>Ogam</value>
      <value>Olck</value>
      <value>Orkh</value>
      <value>Orya</value>
      <value>Osma</value>
      <value>Perm</value>
      <value>Phag</value>
      <value>Phli</value>
      <value>Phlp</value>
      <value>Phlv</value>
      <value>Phnx</value>
      <value>Plrd</value>
      <value>Prti</value>
      <value>Qaaa</value>
      <value>Qabx</value>
      <value>Rjng</value>
      <value>Roro</value>
      <value>Runr</value>
      <value>Samr</value>
      <value>Sara</value>
      <value>Saur</value>
      <value>Sgnw</value>
      <value>Shaw</value>
      <value>Sinh</value>
      <value>Sund</value>
      <value>Sylo</value>
      <value>Syrc</value>
      <value>Syre</value>
      <value>Syrj</value>
      <value>Syrn</value>
      <value>Tagb</value>
      <value>Tale</value>
      <value>Talu</value>
      <value>Taml</value>
      <value>Tavt</value>
      <value>Telu</value>
      <value>Teng</value>
      <value>Tfng</value>
      <value>Tglg</value>
      <value>Thaa</value>
      <value>Thai</value>
      <value>Tibt</value>
      <value>Ugar</value>
      <value>Vaii</value>
      <value>Visp</value>
      <value>Xpeo</value>
      <value>Xsux</value>
      <value>Yiii</value>
      <value>Zinh</value>
      <value>Zmth</value>
      <value>Zsym</value>
      <value>Zxxx</value>
      <value>Zyyy</value>
      <value>Zzzz</value>
    </choice>
  </define>
  <define name="script">
    <element name="script">
      <choice>
        <ref name="script.list"/>
        <oneOrMore>
          <ref name="itemscript"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="origscript">
    <element name="origscript">
      <choice>
        <ref name="script.list"/>
        <oneOrMore>
          <ref name="itemscript"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="itemscript">
    <element name="item">
      <ref name="script.list"/>
    </element>
  </define>
  <!-- NAME LISTS -->
  <define name="attlist.author">
    <optional>
      <attribute name="type">
        <choice>
          <value>author</value>
          <value>editor</value>
          <value>compiler</value>
          <value>translator</value>
          <value>editor+translator</value>
          <text/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <ref name="att.gender"/>
    </optional>
    <optional>
      <ref name="attlist.lists"/>
    </optional>
  </define>
  <define name="attlist.editor">
    <optional>
      <attribute name="type">
        <choice>
          <value>editor</value>
          <value>editor+translator</value>
          <value>compiler</value>
          <text/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="class">
        <choice>
          <value>sub</value>
          <value>vol</value>
          <value>main</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <ref name="att.gender"/>
    </optional>
    <optional>
      <ref name="attlist.lists"/>
    </optional>
  </define>
  <define name="att.gender">
    <attribute name="gender">
      <choice>
        <value>sf</value>
        <value>sm</value>
        <value>sn</value>
        <value>pf</value>
        <value>pm</value>
        <value>pn</value>
        <value>pp</value>
      </choice>
    </attribute>
  </define>
  <define name="author">
    <choice>
      <group>
        <element name="author">
          <ref name="attlist.author"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="author">
            <ref name="attlist.author"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="author">
            <ref name="attlist.author"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="author">
            <ref name="attlist.author"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="author">
            <ref name="attlist.author"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="author">
          <ref name="attlist.author"/>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="editors">
    <interleave>
      <ref name="editor"/>
      <optional>
        <ref name="editorA"/>
      </optional>
      <optional>
        <ref name="editorB"/>
      </optional>
      <optional>
        <ref name="editorC"/>
      </optional>
    </interleave>
  </define>
  <define name="editor">
    <choice>
      <group>
        <element name="editor">
          <ref name="attlist.editor"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="editor">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="editor">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="editor">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="editor">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="editor">
          <ref name="attlist.editor"/>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="editorA">
    <choice>
      <group>
        <element name="editorA">
          <ref name="attlist.editor"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="editorA">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="editorA">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="editorA">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="editorA">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="editorA">
          <ref name="attlist.editor"/>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="editorB">
    <choice>
      <group>
        <element name="editorB">
          <ref name="attlist.editor"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="editorB">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="editorB">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="editorB">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="editorB">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="editorB">
          <ref name="attlist.editor"/>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="editorC">
    <choice>
      <group>
        <element name="editorC">
          <ref name="attlist.editor"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="editorC">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="editorC">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="editorC">
            <ref name="attlist.editor"/>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="editorC">
            <ref name="attlist.editor"/>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="editorC">
          <ref name="attlist.editor"/>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="afterword">
    <choice>
      <group>
        <element name="afterword">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="afterword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="afterword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="afterword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="afterword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="afterword">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="annotator">
    <choice>
      <group>
        <element name="annotator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="annotator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="annotator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="annotator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="annotator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="annotator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="bookauthor">
    <choice>
      <group>
        <element name="bookauthor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="bookauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="bookauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="bookauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="bookauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="bookauthor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="commentator">
    <choice>
      <group>
        <element name="commentator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="commentator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="commentator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="commentator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="commentator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="commentator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="foreword">
    <choice>
      <group>
        <element name="foreword">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="foreword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="foreword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="foreword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="foreword">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="foreword">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="holder">
    <choice>
      <group>
        <element name="holder">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="holder">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="holder">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="holder">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="holder">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="holder">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="introduction">
    <choice>
      <group>
        <element name="introduction">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="introduction">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="introduction">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="introduction">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="introduction">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="introduction">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="translator">
    <choice>
      <group>
        <element name="translator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="translator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="translator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="translator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="translator">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="translator">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="shortauthor">
    <choice>
      <group>
        <element name="shortauthor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="shortauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="shortauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="shortauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="shortauthor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="shortauthor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="shorteditor">
    <choice>
      <group>
        <element name="shorteditor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="shorteditor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="shorteditor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="shorteditor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="shorteditor">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="shorteditor">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="sortname">
    <choice>
      <group>
        <element name="sortname">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="sortname">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="sortname">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="sortname">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="sortname">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="sortname">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="namea">
    <choice>
      <group>
        <element name="nameA">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="nameA">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="nameA">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="nameA">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="nameA">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="nameA">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="nameb">
    <choice>
      <group>
        <element name="nameB">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="nameB">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="nameB">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="nameB">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="nameB">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="nameB">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="namec">
    <choice>
      <group>
        <element name="nameC">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
        <zeroOrMore>
          <element name="nameC">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
        <zeroOrMore>
          <element name="nameC">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <group>
        <oneOrMore>
          <element name="nameC">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="romanized"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </oneOrMore>
        <zeroOrMore>
          <element name="nameC">
            <optional>
              <ref name="attlist.lists"/>
            </optional>
            <ref name="uniform"/>
            <choice>
              <text/>
              <oneOrMore>
                <ref name="person"/>
              </oneOrMore>
            </choice>
          </element>
        </zeroOrMore>
      </group>
      <oneOrMore>
        <element name="nameC">
          <optional>
            <ref name="attlist.lists"/>
          </optional>
          <ref name="uniform"/>
          <choice>
            <text/>
            <oneOrMore>
              <ref name="person"/>
            </oneOrMore>
          </choice>
        </element>
      </oneOrMore>
    </choice>
  </define>
  <define name="person">
    <element name="person">
      <ref name="attlist.person"/>
      <choice>
        <text/>
        <interleave>
          <ref name="first"/>
          <optional>
            <ref name="firstinitial"/>
          </optional>
          <optional>
            <ref name="prefix"/>
          </optional>
          <optional>
            <ref name="prefixinitial"/>
          </optional>
          <optional>
            <ref name="middle"/>
          </optional>
          <optional>
            <ref name="middleinitial"/>
          </optional>
          <ref name="last"/>
          <optional>
            <ref name="lastinitial"/>
          </optional>
          <optional>
            <ref name="suffix"/>
          </optional>
          <optional>
            <ref name="suffixinitial"/>
          </optional>
        </interleave>
      </choice>
    </element>
  </define>
  <define name="attlist.person" combine="choice">
    <optional>
      <attribute name="id"/>
    </optional>
    <optional>
      <!-- ? -->
      <attribute name="email"/>
    </optional>
    <optional>
      <attribute name="url"/>
    </optional>
    <optional>
      <!-- FIXME -->
      <attribute name="yearofbirth">
        <data type="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="yearofdeath">
        <data type="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="gender">
        <choice>
          <value>male</value>
          <value>female</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="useprefix">
        <choice>
          <value>yes</value>
          <value>no</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="first">
    <element name="first">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="namepart"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="firstinitial">
    <element name="firstinitial">
      <text/>
    </element>
  </define>
  <!-- initials = element initials { text } -->
  <define name="last">
    <element name="last">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="namepart"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="lastinitial">
    <element name="lastinitial">
      <text/>
    </element>
  </define>
  <define name="middle">
    <element name="middle">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="namepart"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="middleinitial">
    <element name="middleinitial">
      <text/>
    </element>
  </define>
  <!-- middle = element middle { text } -->
  <define name="prefix">
    <element name="prefix">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="namepart"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="prefixinitial">
    <element name="prefixinitial">
      <text/>
    </element>
  </define>
  <define name="suffix">
    <element name="suffix">
      <choice>
        <text/>
        <oneOrMore>
          <ref name="namepart"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="suffixinitial">
    <element name="suffixinitial">
      <text/>
    </element>
  </define>
  <define name="namepart">
    <element name="namepart">
      <text/>
    </element>
  </define>
  <define name="keywords" combine="choice">
    <element name="keywords">
      <choice>
        <list>
          <oneOrMore>
            <data type="string"/>
          </oneOrMore>
        </list>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <!-- NB in biblatex this list is comma-separated, here it is separated by whitespace or itemized -->
  <define name="reprintinfo">
    <element name="reprintinfo">
      <choice>
        <ref name="attlist.reprintinfo"/>
        <group>
          <optional>
            <attribute name="note"/>
          </optional>
          <text/>
        </group>
      </choice>
    </element>
  </define>
  <define name="attlist.reprintinfo" combine="choice">
    <attribute name="crossref"/>
    <optional>
      <attribute name="volume"/>
    </optional>
    <optional>
      <attribute name="pages"/>
    </optional>
    <optional>
      <attribute name="item"/>
    </optional>
    <optional>
      <attribute name="year"/>
    </optional>
    <optional>
      <attribute name="note"/>
    </optional>
  </define>
  <define name="reviews">
    <element name="reviews">
      <zeroOrMore>
        <ref name="reviewitem"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="reviewitem">
    <element name="item">
      <optional>
        <ref name="attlist.review"/>
      </optional>
      <optional>
        <text/>
      </optional>
    </element>
  </define>
  <define name="attlist.review" combine="choice">
    <optional>
      <attribute name="type"/>
    </optional>
    <optional>
      <attribute name="url">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="author"/>
    </optional>
    <optional>
      <attribute name="note"/>
    </optional>
    <optional>
      <attribute name="crossref"/>
    </optional>
  </define>
  <define name="topics">
    <element name="topics">
      <zeroOrMore>
        <ref name="topic"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="topic">
    <element>
      <anyName/>
      <text/>
    </element>
  </define>
  <define name="remarks">
    <element name="remarks">
      <choice>
        <ref name="formattext"/>
        <oneOrMore>
          <ref name="item"/>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="relatedentries">
    <a:documentation>culture
language
country
person
century
author
works
This is used to record crossrefs to other entries that are related to the present one,
for instance a reedition.</a:documentation>
    <element name="relatedentries">
      <oneOrMore>
        <element name="item">
          <attribute name="type">
            <choice>
              <value>reedition</value>
              <value>reprint</value>
              <value>contains</value>
              <value>translation</value>
              <value>reedition_of</value>
              <value>reprint_of</value>
              <value>part_of</value>
              <value>translation_of</value>
              <value>revised_version</value>
              <value>expanded_version</value>
              <value>review</value>
              <value>essay_review</value>
              <value>revised_version_of</value>
              <value>expanded_version_of</value>
              <value>review_of</value>
              <value>essay_review_of</value>
              <text/>
            </choice>
          </attribute>
          <attribute name="id"/>
        </element>
      </oneOrMore>
    </element>
  </define>
  <define name="BibLaTeXML.article.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <!-- NB: this should be optional -->
      <choice>
        <ref name="journaltitle"/>
        <ref name="journal"/>
      </choice>
      <interleave>
        <optional>
          <ref name="issue"/>
        </optional>
        <ref name="date"/>
      </interleave>
      <optional>
        <ref name="editors"/>
      </optional>
      <optional>
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="translator"/>
      </optional>
      <optional>
        <ref name="annotator"/>
      </optional>
      <optional>
        <ref name="commentator"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="journalsubtitle"/>
      </optional>
      <optional>
        <ref name="issuetitle"/>
      </optional>
      <optional>
        <ref name="issuesubtitle"/>
      </optional>
      <optional>
        <ref name="issuetitleaddon"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="eid"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="issn"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.article.fields">
    <interleave>
      <ref name="BibLaTeXML.article.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="article">
    <element name="entry">
      <ref name="attlist.article"/>
      <interleave>
        <ref name="title"/>
        <optional>
          <ref name="url"/>
        </optional>
        <ref name="BibLaTeXML.article.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.article">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>article</value>
    </attribute>
    <optional>
      <attribute name="type">
        <value>printed</value>
      </attribute>
    </optional>
  </define>
  <!-- url mandatory if type is electronic -->
  <define name="article.electronic">
    <a:documentation/>
    <element name="entry">
      <ref name="attlist.article.electronic"/>
      <interleave>
        <ref name="url"/>
        <ref name="title"/>
        <ref name="BibLaTeXML.article.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.article.electronic">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>article</value>
    </attribute>
    <attribute name="type">
      <value>electronic</value>
    </attribute>
  </define>
  <!-- for reviews we need attribute ref or title or both -->
  <define name="review">
    <a:documentation/>
    <element name="entry">
      <interleave>
        <ref name="attlist.review"/>
        <choice>
          <ref name="crossref"/>
          <ref name="title"/>
        </choice>
        <optional>
          <ref name="url"/>
        </optional>
        <ref name="BibLaTeXML.article.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.review">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>review</value>
    </attribute>
    <optional>
      <attribute name="type">
        <value>printed</value>
      </attribute>
    </optional>
  </define>
  <!-- url mandatory if type is electronic -->
  <define name="review.electronic">
    <a:documentation/>
    <element name="entry">
      <interleave>
        <ref name="attlist.review.electronic"/>
        <choice>
          <ref name="crossref"/>
          <ref name="title"/>
        </choice>
        <ref name="url"/>
        <ref name="BibLaTeXML.article.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.review.electronic">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>review</value>
    </attribute>
    <attribute name="type">
      <value>electronic</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.book.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="author"/>
      </optional>
      <optional>
        <!-- changed -->
        <ref name="editors"/>
      </optional>
      <!-- changed -->
      <choice>
        <interleave>
          <ref name="title"/>
          <ref name="date"/>
        </interleave>
        <interleave>
          <optional>
            <ref name="title"/>
          </optional>
          <optional>
            <ref name="date"/>
          </optional>
          <ref name="crossref"/>
        </interleave>
      </choice>
      <optional>
        <!-- a book can inherit its elements from another book (e.g. individual volumes with diff titles) -->
        <ref name="bookauthor"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="translator"/>
      </optional>
      <optional>
        <ref name="annotator"/>
      </optional>
      <optional>
        <ref name="commentator"/>
      </optional>
      <optional>
        <ref name="introduction"/>
      </optional>
      <optional>
        <ref name="foreword"/>
      </optional>
      <optional>
        <ref name="afterword"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="maintitle"/>
      </optional>
      <optional>
        <ref name="mainsubtitle"/>
      </optional>
      <optional>
        <ref name="maintitleaddon"/>
      </optional>
      <optional>
        <ref name="booktitle"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="booktitleaddon"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="booksubtitle"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="edition"/>
      </optional>
      <optional>
        <ref name="volumes"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="isbn"/>
      </optional>
      <optional>
        <ref name="oclc"/>
      </optional>
      <optional>
        <ref name="lccn"/>
      </optional>
      <optional>
        <ref name="issn"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.book.fields">
    <interleave>
      <ref name="BibLaTeXML.book.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="book">
    <element name="entry">
      <ref name="attlist.book"/>
      <ref name="BibLaTeXML.book.fields"/>
    </element>
  </define>
  <define name="attlist.book">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>book</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.booklet.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="author"/>
      </optional>
      <optional>
        <!-- changed -->
        <ref name="editors"/>
      </optional>
      <!-- changed -->
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <!-- howpublished? & -> attribute -->
        <ref name="note"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.booklet.fields">
    <interleave>
      <ref name="BibLaTeXML.booklet.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="booklet">
    <element name="entry">
      <ref name="attlist.booklet"/>
      <ref name="BibLaTeXML.booklet.fields"/>
    </element>
  </define>
  <define name="attlist.booklet">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>booklet</value>
    </attribute>
    <optional>
      <attribute name="type"/>
    </optional>
    <optional>
      <attribute name="howpublished"/>
    </optional>
  </define>
  <define name="BibLaTeXML.collection.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="editors"/>
      </optional>
      <optional>
        <!-- changed -->
        <ref name="author"/>
      </optional>
      <!-- changed -->
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="bookauthor"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="translator"/>
      </optional>
      <optional>
        <ref name="annotator"/>
      </optional>
      <optional>
        <ref name="commentator"/>
      </optional>
      <optional>
        <ref name="introduction"/>
      </optional>
      <optional>
        <ref name="foreword"/>
      </optional>
      <optional>
        <ref name="afterword"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="maintitle"/>
      </optional>
      <optional>
        <ref name="mainsubtitle"/>
      </optional>
      <optional>
        <ref name="maintitleaddon"/>
      </optional>
      <optional>
        <ref name="booktitle"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="booktitleaddon"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="booksubtitle"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="edition"/>
      </optional>
      <optional>
        <ref name="volumes"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="isbn"/>
      </optional>
      <optional>
        <ref name="oclc"/>
      </optional>
      <optional>
        <ref name="lccn"/>
      </optional>
      <optional>
        <ref name="issn"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.collection.fields">
    <interleave>
      <ref name="BibLaTeXML.collection.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="collection">
    <element name="entry">
      <ref name="attlist.collection"/>
      <ref name="BibLaTeXML.collection.fields"/>
    </element>
  </define>
  <define name="attlist.collection">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>collection</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.inbook.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="title"/>
      <optional>
        <ref name="author"/>
      </optional>
      <optional>
        <ref name="editors"/>
      </optional>
      <optional>
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="translator"/>
      </optional>
      <optional>
        <ref name="annotator"/>
      </optional>
      <optional>
        <ref name="commentator"/>
      </optional>
      <!-- year can be provided with crossref if it refers to multivolume work -->
      <choice>
        <interleave>
          <choice>
            <ref name="crossref"/>
            <ref name="xref"/>
          </choice>
          <optional>
            <ref name="date"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="bookauthor"/>
          </optional>
          <!-- FIXME: this is probably too strict -->
          <ref name="booktitle"/>
          <optional>
            <ref name="maintitle"/>
          </optional>
          <optional>
            <ref name="mainsubtitle"/>
          </optional>
          <optional>
            <ref name="maintitleaddon"/>
          </optional>
          <optional>
            <ref name="booksubtitle"/>
          </optional>
          <optional>
            <ref name="booktitleaddon"/>
          </optional>
          <ref name="date"/>
          <optional>
            <ref name="introduction"/>
          </optional>
          <optional>
            <ref name="foreword"/>
          </optional>
          <optional>
            <ref name="afterword"/>
          </optional>
          <optional>
            <ref name="edition"/>
          </optional>
          <optional>
            <ref name="volumes"/>
          </optional>
          <optional>
            <ref name="series"/>
          </optional>
          <optional>
            <ref name="number"/>
          </optional>
          <ref name="publisherinfos"/>
          <optional>
            <ref name="issn"/>
          </optional>
          <optional>
            <!-- added -->
            <ref name="isbn"/>
          </optional>
          <optional>
            <ref name="oclc"/>
          </optional>
          <optional>
            <ref name="lccn"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <choice>
          <ref name="pages"/>
          <ref name="pagetotal"/>
        </choice>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.inbook.fields">
    <interleave>
      <ref name="BibLaTeXML.inbook.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="inbook">
    <element name="entry">
      <ref name="attlist.inbook"/>
      <ref name="BibLaTeXML.inbook.fields"/>
    </element>
  </define>
  <define name="attlist.inbook">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>inbook</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.incollection.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <!-- year can be provided with crossref if it refers to multivolume work -->
      <choice>
        <interleave>
          <choice>
            <ref name="crossref"/>
            <ref name="xref"/>
          </choice>
          <optional>
            <ref name="date"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="editors"/>
          </optional>
          <!--
            made it optional
            FIXME: this is probably too strict
          -->
          <ref name="booktitle"/>
          <ref name="date"/>
          <optional>
            <ref name="shorteditor"/>
          </optional>
          <optional>
            <ref name="translator"/>
          </optional>
          <optional>
            <ref name="annotator"/>
          </optional>
          <optional>
            <ref name="commentator"/>
          </optional>
          <optional>
            <ref name="introduction"/>
          </optional>
          <optional>
            <ref name="foreword"/>
          </optional>
          <optional>
            <ref name="afterword"/>
          </optional>
          <optional>
            <ref name="maintitle"/>
          </optional>
          <optional>
            <ref name="mainsubtitle"/>
          </optional>
          <optional>
            <ref name="maintitleaddon"/>
          </optional>
          <optional>
            <ref name="booksubtitle"/>
          </optional>
          <optional>
            <ref name="booktitleaddon"/>
          </optional>
          <ref name="publisherinfos"/>
          <optional>
            <ref name="volumes"/>
          </optional>
          <optional>
            <ref name="number"/>
          </optional>
          <optional>
            <ref name="edition"/>
          </optional>
          <optional>
            <ref name="series"/>
          </optional>
          <optional>
            <ref name="issn"/>
          </optional>
          <optional>
            <!-- added -->
            <ref name="isbn"/>
          </optional>
          <optional>
            <ref name="oclc"/>
          </optional>
          <optional>
            <ref name="lccn"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <choice>
          <ref name="pages"/>
          <ref name="pagetotal"/>
        </choice>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.incollection.fields">
    <interleave>
      <ref name="BibLaTeXML.incollection.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="incollection">
    <element name="entry">
      <ref name="attlist.incollection"/>
      <ref name="BibLaTeXML.incollection.fields"/>
    </element>
  </define>
  <define name="attlist.incollection">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>incollection</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.inproceedings.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <choice>
        <ref name="crossref"/>
        <ref name="xref"/>
        <interleave>
          <optional>
            <ref name="editors"/>
          </optional>
          <!-- made it optional -->
          <ref name="booktitle"/>
          <ref name="date"/>
          <optional>
            <ref name="shorteditor"/>
          </optional>
          <optional>
            <ref name="maintitle"/>
          </optional>
          <optional>
            <ref name="mainsubtitle"/>
          </optional>
          <optional>
            <ref name="maintitleaddon"/>
          </optional>
          <optional>
            <ref name="booksubtitle"/>
          </optional>
          <optional>
            <ref name="booktitleaddon"/>
          </optional>
          <optional>
            <ref name="venue"/>
          </optional>
          <optional>
            <ref name="volumes"/>
          </optional>
          <optional>
            <ref name="series"/>
          </optional>
          <optional>
            <ref name="number"/>
          </optional>
          <optional>
            <ref name="organization"/>
          </optional>
          <ref name="publisherinfos"/>
          <optional>
            <ref name="issn"/>
          </optional>
          <optional>
            <!-- added -->
            <ref name="isbn"/>
          </optional>
          <optional>
            <ref name="oclc"/>
          </optional>
          <optional>
            <ref name="lccn"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <choice>
          <ref name="pages"/>
          <ref name="pagetotal"/>
        </choice>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.inproceedings.fields">
    <interleave>
      <ref name="BibLaTeXML.inproceedings.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="inproceedings">
    <element name="entry">
      <ref name="attlist.inproceedings"/>
      <ref name="BibLaTeXML.inproceedings.fields"/>
    </element>
  </define>
  <define name="attlist.inproceedings">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>inproceedings</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.manual.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <choice>
          <ref name="author"/>
          <ref name="editors"/>
        </choice>
      </optional>
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="edition"/>
      </optional>
      <optional>
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="organization"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="isbn"/>
      </optional>
      <optional>
        <ref name="oclc"/>
      </optional>
      <optional>
        <ref name="lccn"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.manual.fields">
    <interleave>
      <ref name="BibLaTeXML.manual.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="manual">
    <element name="entry">
      <ref name="attlist.manual"/>
      <ref name="BibLaTeXML.manual.fields"/>
    </element>
  </define>
  <define name="attlist.manual">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>manual</value>
    </attribute>
    <optional>
      <attribute name="type"/>
    </optional>
  </define>
  <define name="BibLaTeXML.misc.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <choice>
          <ref name="author"/>
          <ref name="editors"/>
        </choice>
      </optional>
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <!--  howpublished? & -> attribute -->
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="organization"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.misc.fields">
    <interleave>
      <ref name="BibLaTeXML.misc.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="misc">
    <element name="entry">
      <ref name="attlist.misc"/>
      <ref name="BibLaTeXML.misc.fields"/>
    </element>
  </define>
  <define name="attlist.misc">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>misc</value>
    </attribute>
    <optional>
      <attribute name="type"/>
    </optional>
    <optional>
      <attribute name="howpublished"/>
    </optional>
  </define>
  <define name="BibLaTeXML.online.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <interleave>
          <ref name="author"/>
          <optional>
            <ref name="editors"/>
          </optional>
        </interleave>
      </optional>
      <ref name="title"/>
      <optional>
        <ref name="date"/>
      </optional>
      <choice>
        <ref name="url"/>
        <ref name="eprint"/>
      </choice>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="organization"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.online.fields">
    <interleave>
      <ref name="BibLaTeXML.online.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="online">
    <element name="entry">
      <ref name="attlist.online"/>
      <ref name="BibLaTeXML.online.fields"/>
    </element>
  </define>
  <define name="attlist.online">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>online</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.patent.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <ref name="number"/>
      <ref name="date"/>
      <optional>
        <ref name="holder"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="location"/>
      </optional>
      <optional>
        <ref name="origlocation"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.patent.fields">
    <interleave>
      <ref name="BibLaTeXML.patent.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="patent">
    <element name="entry">
      <ref name="attlist.patent"/>
      <ref name="BibLaTeXML.patent.fields"/>
    </element>
  </define>
  <!-- TODO specify all possible patent types -->
  <define name="attlist.patent">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>patent</value>
    </attribute>
    <optional>
      <ref name="att.patenttype"/>
    </optional>
  </define>
  <define name="att.patenttype">
    <attribute name="type">
      <choice>
        <value>patent</value>
        <value>patentca</value>
        <value>patentde</value>
        <value>patentdk</value>
        <value>patentes</value>
        <value>patenteu</value>
        <value>patentfr</value>
        <value>patentit</value>
        <value>patentno</value>
        <value>patentse</value>
        <value>patentuk</value>
        <value>patentus</value>
        <value>patreq</value>
        <value>patreqca</value>
        <value>patreqde</value>
        <value>patreqdk</value>
        <value>patreqes</value>
        <value>patreqeu</value>
        <value>patreqfr</value>
        <value>patreqit</value>
        <value>patreqno</value>
        <value>patreqse</value>
        <value>patrequk</value>
        <value>patrequs</value>
        <text/>
      </choice>
    </attribute>
  </define>
  <define name="BibLaTeXML.periodical.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="editors"/>
      </optional>
      <!-- made it optional -->
      <choice>
        <ref name="journal"/>
        <ref name="journaltitle"/>
      </choice>
      <optional>
        <!-- CHANGED from title -->
        <ref name="issue"/>
      </optional>
      <ref name="date"/>
      <optional>
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="introduction"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="issuetitle"/>
      </optional>
      <optional>
        <ref name="issuesubtitle"/>
      </optional>
      <optional>
        <ref name="issuetitleaddon"/>
      </optional>
      <optional>
        <choice>
          <ref name="pagetotal"/>
          <ref name="pages"/>
        </choice>
      </optional>
      <optional>
        <!-- added -->
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="issn"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
    </interleave>
  </define>
  <!--  url? -->
  <define name="BibLaTeXML.periodical.fields">
    <interleave>
      <ref name="BibLaTeXML.periodical.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="periodical">
    <element name="entry">
      <ref name="attlist.periodical"/>
      <interleave>
        <optional>
          <ref name="url"/>
        </optional>
        <ref name="BibLaTeXML.periodical.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.periodical">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>periodical</value>
    </attribute>
    <optional>
      <attribute name="type">
        <value>printed</value>
      </attribute>
    </optional>
  </define>
  <!-- url mandatory if type is electronic -->
  <define name="periodical.electronic">
    <a:documentation/>
    <element name="entry">
      <ref name="attlist.periodical.electronic"/>
      <interleave>
        <ref name="url"/>
        <ref name="BibLaTeXML.periodical.fields"/>
      </interleave>
    </element>
  </define>
  <define name="attlist.periodical.electronic">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>periodical</value>
    </attribute>
    <attribute name="type">
      <value>electronic</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.proceedings.standard.fields">
    <a:documentation/>
    <interleave>
      <optional>
        <ref name="editors"/>
      </optional>
      <!-- made it optional -->
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="shorteditor"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="maintitle"/>
      </optional>
      <optional>
        <ref name="mainsubtitle"/>
      </optional>
      <optional>
        <ref name="maintitleaddon"/>
      </optional>
      <optional>
        <ref name="venue"/>
      </optional>
      <optional>
        <ref name="volume"/>
      </optional>
      <optional>
        <ref name="part"/>
      </optional>
      <optional>
        <ref name="volumes"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="organization"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="isbn"/>
      </optional>
      <optional>
        <ref name="issn"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="oclc"/>
      </optional>
      <optional>
        <ref name="lccn"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.proceedings.fields">
    <interleave>
      <ref name="BibLaTeXML.proceedings.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="proceedings">
    <element name="entry">
      <ref name="attlist.proceedings"/>
      <ref name="BibLaTeXML.proceedings.fields"/>
    </element>
  </define>
  <define name="attlist.proceedings">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>proceedings</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.report.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <ref name="institution"/>
      <ref name="date"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="number"/>
      </optional>
      <optional>
        <ref name="version"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <ref name="publisherinfos"/>
      <optional>
        <ref name="isrn"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.report.fields">
    <interleave>
      <ref name="BibLaTeXML.report.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="report">
    <element name="entry">
      <ref name="attlist.report"/>
      <ref name="BibLaTeXML.report.fields"/>
    </element>
  </define>
  <define name="attlist.report">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>report</value>
    </attribute>
    <attribute name="type">
      <choice>
        <value>techreport</value>
        <value>resreport</value>
        <text/>
      </choice>
    </attribute>
  </define>
  <define name="BibLaTeXML.thesis.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <choice>
        <ref name="institution"/>
        <ref name="school"/>
      </choice>
      <ref name="date"/>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="location"/>
      </optional>
      <optional>
        <ref name="origlocation"/>
      </optional>
      <optional>
        <ref name="chapter"/>
      </optional>
      <optional>
        <ref name="pages"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="volumes"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="isbn"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="oclc"/>
      </optional>
      <optional>
        <ref name="lccn"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="doi"/>
      </optional>
      <optional>
        <ref name="eprint"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.thesis.fields">
    <interleave>
      <ref name="BibLaTeXML.thesis.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="thesis">
    <element name="entry">
      <ref name="attlist.thesis"/>
      <ref name="BibLaTeXML.thesis.fields"/>
    </element>
  </define>
  <define name="attlist.thesis">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>thesis</value>
    </attribute>
    <attribute name="type">
      <choice>
        <value>phdthesis</value>
        <value>mathesis</value>
        <text/>
      </choice>
    </attribute>
  </define>
  <define name="BibLaTeXML.unpublished.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <optional>
        <ref name="date"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="institution"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <!-- added -->
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.unpublished.fields">
    <interleave>
      <ref name="BibLaTeXML.unpublished.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="unpublished">
    <element name="entry">
      <ref name="attlist.unpublished"/>
      <ref name="BibLaTeXML.unpublished.fields"/>
    </element>
  </define>
  <define name="attlist.unpublished">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>unpublished</value>
    </attribute>
  </define>
  <define name="BibLaTeXML.preprint.standard.fields">
    <a:documentation/>
    <interleave>
      <ref name="author"/>
      <ref name="title"/>
      <ref name="date"/>
      <optional>
        <ref name="institution"/>
      </optional>
      <optional>
        <ref name="location"/>
      </optional>
      <optional>
        <ref name="subtitle"/>
      </optional>
      <optional>
        <ref name="titleaddon"/>
      </optional>
      <optional>
        <ref name="series"/>
      </optional>
      <optional>
        <ref name="pagetotal"/>
      </optional>
      <optional>
        <ref name="note"/>
      </optional>
      <optional>
        <ref name="addendum"/>
      </optional>
      <optional>
        <ref name="url"/>
      </optional>
    </interleave>
  </define>
  <define name="BibLaTeXML.preprint.fields">
    <interleave>
      <ref name="BibLaTeXML.preprint.standard.fields"/>
      <ref name="BibLaTeXML.common.fields"/>
      <ref name="BibLaTeXML.additional.fields"/>
    </interleave>
  </define>
  <define name="preprint">
    <element name="entry">
      <ref name="attlist.preprint"/>
      <ref name="BibLaTeXML.preprint.fields"/>
    </element>
  </define>
  <define name="attlist.preprint">
    <attribute name="id"/>
    <attribute name="entrytype">
      <value>preprint</value>
    </attribute>
  </define>
  <define name="software">
    <a:documentation/>
    <element name="entry">
      <attribute name="id"/>
      <attribute name="entrytype">
        <value>software</value>
      </attribute>
      <ref name="BibLaTeXML.misc.fields"/>
    </element>
  </define>
  <define name="movie">
    <a:documentation/>
    <element name="entry">
      <attribute name="id"/>
      <attribute name="entrytype">
        <value>movie</value>
      </attribute>
      <ref name="BibLaTeXML.misc.fields"/>
    </element>
  </define>
  <define name="BibLaTeXML.set.fields">
    <a:documentation/>
    <interleave>
      <ref name="entryset"/>
      <optional>
        <ref name="crossref"/>
      </optional>
      <optional>
        <!-- actually this is not needed as it is the first element of the entryset -->
        <ref name="annotation"/>
      </optional>
      <optional>
        <ref name="keywords"/>
      </optional>
      <optional>
        <ref name="remarks"/>
      </optional>
      <zeroOrMore>
        <ref name="private"/>
      </zeroOrMore>
      <optional>
        <ref name="options"/>
      </optional>
    </interleave>
  </define>
  <define name="set">
    <element name="entry">
      <attribute name="id"/>
      <attribute name="entrytype">
        <value>set</value>
      </attribute>
      <ref name="BibLaTeXML.set.fields"/>
    </element>
  </define>
</grammar>
